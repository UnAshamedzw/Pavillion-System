import React, { useState, useEffect } from 'react';
import { Bus, DollarSign, TrendingUp, Calendar, Plus, X, Edit2, Trash2 } from 'lucide-react';

const BusFleetTracker = () => {
  const [activeTab, setActiveTab] = useState('dashboard');
  const [buses, setBuses] = useState([]);
  const [routes, setRoutes] = useState([]);
  const [incomeEntries, setIncomeEntries] = useState([]);
  const [expenses, setExpenses] = useState([]);
  
  const [newBus, setNewBus] = useState({ numberPlate: '', model: '', capacity: '' });
  const [newRoute, setNewRoute] = useState({ name: '', distance: '' });
  const [newIncome, setNewIncome] = useState({ 
    busNumberPlate: '', 
    route: '', 
    hireDestination: '',
    amount: '', 
    date: new Date().toISOString().split('T')[0] 
  });
  const [newExpense, setNewExpense] = useState({ 
    busNumberPlate: '', 
    category: '', 
    amount: '', 
    description: '',
    date: new Date().toISOString().split('T')[0] 
  });

  const [editingBus, setEditingBus] = useState(null);
  const [editingRoute, setEditingRoute] = useState(null);

  // Load data from storage on mount
  useEffect(() => {
    loadData();
  }, []);

  const loadData = async () => {
    try {
      const [busesRes, routesRes, incomeRes, expensesRes] = await Promise.all([
        window.storage.get('buses').catch(() => null),
        window.storage.get('routes').catch(() => null),
        window.storage.get('income').catch(() => null),
        window.storage.get('expenses').catch(() => null)
      ]);

      if (busesRes?.value) setBuses(JSON.parse(busesRes.value));
      if (routesRes?.value) setRoutes(JSON.parse(routesRes.value));
      if (incomeRes?.value) setIncomeEntries(JSON.parse(incomeRes.value));
      if (expensesRes?.value) setExpenses(JSON.parse(expensesRes.value));
    } catch (error) {
      console.error('Error loading data:', error);
    }
  };

  const saveData = async (key, data) => {
    try {
      await window.storage.set(key, JSON.stringify(data));
    } catch (error) {
      console.error(`Error saving ${key}:`, error);
    }
  };

  const addBus = () => {
    if (newBus.numberPlate && newBus.model && newBus.capacity) {
      const bus = { id: Date.now(), ...newBus };
      const updatedBuses = [...buses, bus];
      setBuses(updatedBuses);
      saveData('buses', updatedBuses);
      setNewBus({ numberPlate: '', model: '', capacity: '' });
    }
  };

  const updateBus = () => {
    if (editingBus && editingBus.numberPlate && editingBus.model && editingBus.capacity) {
      const updatedBuses = buses.map(bus => 
        bus.id === editingBus.id ? editingBus : bus
      );
      setBuses(updatedBuses);
      saveData('buses', updatedBuses);
      setEditingBus(null);
    }
  };

  const deleteBus = (id) => {
    const updatedBuses = buses.filter(bus => bus.id !== id);
    setBuses(updatedBuses);
    saveData('buses', updatedBuses);
  };

  const addRoute = () => {
    if (newRoute.name && newRoute.distance) {
      const route = { id: Date.now(), ...newRoute };
      const updatedRoutes = [...routes, route];
      setRoutes(updatedRoutes);
      saveData('routes', updatedRoutes);
      setNewRoute({ name: '', distance: '' });
    }
  };

  const updateRoute = () => {
    if (editingRoute && editingRoute.name && editingRoute.distance) {
      const updatedRoutes = routes.map(route => 
        route.id === editingRoute.id ? editingRoute : route
      );
      setRoutes(updatedRoutes);
      saveData('routes', updatedRoutes);
      setEditingRoute(null);
    }
  };

  const deleteRoute = (id) => {
    const updatedRoutes = routes.filter(route => route.id !== id);
    setRoutes(updatedRoutes);
    saveData('routes', updatedRoutes);
  };

  const addIncome = () => {
    if (newIncome.busNumberPlate && newIncome.route && newIncome.amount) {
      // For Hire routes, ensure hireDestination is provided
      if (newIncome.route === 'Hire' && !newIncome.hireDestination.trim()) {
        alert('Please describe the hire destination');
        return;
      }
      
      const income = { 
        id: Date.now(), 
        ...newIncome,
        amount: parseFloat(newIncome.amount)
      };
      const updatedIncome = [...incomeEntries, income];
      setIncomeEntries(updatedIncome);
      saveData('income', updatedIncome);
      setNewIncome({ 
        busNumberPlate: '', 
        route: '', 
        hireDestination: '',
        amount: '', 
        date: new Date().toISOString().split('T')[0] 
      });
    }
  };

  const deleteIncome = (id) => {
    const updatedIncome = incomeEntries.filter(entry => entry.id !== id);
    setIncomeEntries(updatedIncome);
    saveData('income', updatedIncome);
  };

  const addExpense = () => {
    if (newExpense.busNumberPlate && newExpense.category && newExpense.amount) {
      const expense = { 
        id: Date.now(), 
        ...newExpense,
        amount: parseFloat(newExpense.amount)
      };
      const updatedExpenses = [...expenses, expense];
      setExpenses(updatedExpenses);
      saveData('expenses', updatedExpenses);
      setNewExpense({ 
        busNumberPlate: '', 
        category: '', 
        amount: '', 
        description: '',
        date: new Date().toISOString().split('T')[0] 
      });
    }
  };

  const deleteExpense = (id) => {
    const updatedExpenses = expenses.filter(exp => exp.id !== id);
    setExpenses(updatedExpenses);
    saveData('expenses', updatedExpenses);
  };

  const calculateTotals = () => {
    const totalIncome = incomeEntries.reduce((sum, entry) => sum + entry.amount, 0);
    const totalExpenses = expenses.reduce((sum, exp) => sum + exp.amount, 0);
    return { totalIncome, totalExpenses, profit: totalIncome - totalExpenses };
  };

  const getIncomeByBus = () => {
    return buses.map(bus => {
      const busIncome = incomeEntries
        .filter(entry => entry.busNumberPlate === bus.numberPlate)
        .reduce((sum, entry) => sum + entry.amount, 0);
      const busExpenses = expenses
        .filter(exp => exp.busNumberPlate === bus.numberPlate)
        .reduce((sum, exp) => sum + exp.amount, 0);
      return {
        ...bus,
        income: busIncome,
        expenses: busExpenses,
        profit: busIncome - busExpenses
      };
    });
  };

  const getIncomeByRoute = () => {
    // Group income by route, treating all "Hire" entries as one route
    const routeMap = {};
    
    incomeEntries.forEach(entry => {
      const routeName = entry.route;
      if (!routeMap[routeName]) {
        routeMap[routeName] = 0;
      }
      routeMap[routeName] += entry.amount;
    });

    return Object.entries(routeMap).map(([name, income]) => ({
      name,
      income
    })).sort((a, b) => b.income - a.income);
  };

  const { totalIncome, totalExpenses, profit } = calculateTotals();
  const incomeByBus = getIncomeByBus();
  const incomeByRoute = getIncomeByRoute();

  return (
    <div className="min-h-screen bg-gray-50">
      <div className="max-w-7xl mx-auto p-6">
        <div className="bg-white rounded-lg shadow-lg mb-6">
          <div className="p-6 border-b">
            <h1 className="text-3xl font-bold text-gray-800 flex items-center gap-3">
              <Bus className="text-blue-600" size={36} />
              Bus Fleet Income Tracker
            </h1>
          </div>

          <div className="flex border-b">
            {['dashboard', 'buses', 'routes', 'income', 'expenses'].map(tab => (
              <button
                key={tab}
                onClick={() => setActiveTab(tab)}
                className={`px-6 py-3 font-medium capitalize ${
                  activeTab === tab
                    ? 'border-b-2 border-blue-600 text-blue-600'
                    : 'text-gray-600 hover:text-gray-800'
                }`}
              >
                {tab}
              </button>
            ))}
          </div>
        </div>

        {activeTab === 'dashboard' && (
          <div className="space-y-6">
            <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
              <div className="bg-white p-6 rounded-lg shadow">
                <div className="flex items-center justify-between">
                  <div>
                    <p className="text-gray-600 text-sm">Total Income</p>
                    <p className="text-3xl font-bold text-green-600">${totalIncome.toFixed(2)}</p>
                  </div>
                  <TrendingUp className="text-green-600" size={32} />
                </div>
              </div>

              <div className="bg-white p-6 rounded-lg shadow">
                <div className="flex items-center justify-between">
                  <div>
                    <p className="text-gray-600 text-sm">Total Expenses</p>
                    <p className="text-3xl font-bold text-red-600">${totalExpenses.toFixed(2)}</p>
                  </div>
                  <DollarSign className="text-red-600" size={32} />
                </div>
              </div>

              <div className="bg-white p-6 rounded-lg shadow">
                <div className="flex items-center justify-between">
                  <div>
                    <p className="text-gray-600 text-sm">Net Profit</p>
                    <p className={`text-3xl font-bold ${profit >= 0 ? 'text-blue-600' : 'text-red-600'}`}>
                      ${profit.toFixed(2)}
                    </p>
                  </div>
                  <Calendar className="text-blue-600" size={32} />
                </div>
              </div>
            </div>

            <div className="bg-white p-6 rounded-lg shadow">
              <h2 className="text-xl font-bold mb-4">Income by Bus</h2>
              <div className="overflow-x-auto">
                <table className="w-full">
                  <thead>
                    <tr className="border-b">
                      <th className="text-left py-2">Bus</th>
                      <th className="text-left py-2">Model</th>
                      <th className="text-right py-2">Income</th>
                      <th className="text-right py-2">Expenses</th>
                      <th className="text-right py-2">Profit</th>
                    </tr>
                  </thead>
                  <tbody>
                    {incomeByBus.map(bus => (
                      <tr key={bus.id} className="border-b">
                        <td className="py-2">{bus.numberPlate}</td>
                        <td className="py-2">{bus.model}</td>
                        <td className="text-right py-2 text-green-600">${bus.income.toFixed(2)}</td>
                        <td className="text-right py-2 text-red-600">${bus.expenses.toFixed(2)}</td>
                        <td className={`text-right py-2 font-bold ${bus.profit >= 0 ? 'text-blue-600' : 'text-red-600'}`}>
                          ${bus.profit.toFixed(2)}
                        </td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>

            <div className="bg-white p-6 rounded-lg shadow">
              <h2 className="text-xl font-bold mb-4">Income by Route</h2>
              <div className="overflow-x-auto">
                <table className="w-full">
                  <thead>
                    <tr className="border-b">
                      <th className="text-left py-2">Route</th>
                      <th className="text-right py-2">Total Income</th>
                    </tr>
                  </thead>
                  <tbody>
                    {incomeByRoute.map((route, index) => (
                      <tr key={index} className="border-b">
                        <td className="py-2">{route.name}</td>
                        <td className="text-right py-2 text-green-600 font-bold">${route.income.toFixed(2)}</td>
                      </tr>
                    ))}
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        )}

        {activeTab === 'buses' && (
          <div className="bg-white p-6 rounded-lg shadow">
            <h2 className="text-xl font-bold mb-4">Manage Buses</h2>
            
            <div className="grid grid-cols-1 md:grid-cols-4 gap-4 mb-6">
              <input
                type="text"
                placeholder="Number Plate"
                value={editingBus ? editingBus.numberPlate : newBus.numberPlate}
                onChange={(e) => editingBus 
                  ? setEditingBus({...editingBus, numberPlate: e.target.value})
                  : setNewBus({...newBus, numberPlate: e.target.value})
                }
                className="px-3 py-2 border border-gray-300 rounded-lg"
              />
              <input
                type="text"
                placeholder="Model"
                value={editingBus ? editingBus.model : newBus.model}
                onChange={(e) => editingBus
                  ? setEditingBus({...editingBus, model: e.target.value})
                  : setNewBus({...newBus, model: e.target.value})
                }
                className="px-3 py-2 border border-gray-300 rounded-lg"
              />
              <input
                type="number"
                placeholder="Capacity"
                value={editingBus ? editingBus.capacity : newBus.capacity}
                onChange={(e) => editingBus
                  ? setEditingBus({...editingBus, capacity: e.target.value})
                  : setNewBus({...newBus, capacity: e.target.value})
                }
                className="px-3 py-2 border border-gray-300 rounded-lg"
              />
              {editingBus ? (
                <div className="flex gap-2">
                  <button
                    onClick={updateBus}
                    className="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2"
                  >
                    Update
                  </button>
                  <button
                    onClick={() => setEditingBus(null)}
                    className="px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400"
                  >
                    Cancel
                  </button>
                </div>
              ) : (
                <button
                  onClick={addBus}
                  className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2"
                >
                  <Plus size={20} /> Add Bus
                </button>
              )}
            </div>

            <div className="space-y-2">
              {buses.map(bus => (
                <div key={bus.id} className="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div>
                    <p className="font-bold">{bus.numberPlate}</p>
                    <p className="text-sm text-gray-600">{bus.model} - Capacity: {bus.capacity}</p>
                  </div>
                  <div className="flex gap-2">
                    <button
                      onClick={() => setEditingBus(bus)}
                      className="p-2 text-blue-600 hover:bg-blue-100 rounded"
                    >
                      <Edit2 size={18} />
                    </button>
                    <button
                      onClick={() => deleteBus(bus.id)}
                      className="p-2 text-red-600 hover:bg-red-100 rounded"
                    >
                      <Trash2 size={18} />
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}

        {activeTab === 'routes' && (
          <div className="bg-white p-6 rounded-lg shadow">
            <h2 className="text-xl font-bold mb-4">Manage Routes</h2>
            
            <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
              <input
                type="text"
                placeholder="Route Name"
                value={editingRoute ? editingRoute.name : newRoute.name}
                onChange={(e) => editingRoute
                  ? setEditingRoute({...editingRoute, name: e.target.value})
                  : setNewRoute({...newRoute, name: e.target.value})
                }
                className="px-3 py-2 border border-gray-300 rounded-lg"
              />
              <input
                type="text"
                placeholder="Distance (km)"
                value={editingRoute ? editingRoute.distance : newRoute.distance}
                onChange={(e) => editingRoute
                  ? setEditingRoute({...editingRoute, distance: e.target.value})
                  : setNewRoute({...newRoute, distance: e.target.value})
                }
                className="px-3 py-2 border border-gray-300 rounded-lg"
              />
              {editingRoute ? (
                <div className="flex gap-2">
                  <button
                    onClick={updateRoute}
                    className="flex-1 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2"
                  >
                    Update
                  </button>
                  <button
                    onClick={() => setEditingRoute(null)}
                    className="px-4 py-2 bg-gray-300 rounded-lg hover:bg-gray-400"
                  >
                    Cancel
                  </button>
                </div>
              ) : (
                <button
                  onClick={addRoute}
                  className="bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2"
                >
                  <Plus size={20} /> Add Route
                </button>
              )}
            </div>

            <div className="space-y-2">
              {routes.map(route => (
                <div key={route.id} className="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div>
                    <p className="font-bold">{route.name}</p>
                    <p className="text-sm text-gray-600">Distance: {route.distance} km</p>
                  </div>
                  <div className="flex gap-2">
                    <button
                      onClick={() => setEditingRoute(route)}
                      className="p-2 text-blue-600 hover:bg-blue-100 rounded"
                    >
                      <Edit2 size={18} />
                    </button>
                    <button
                      onClick={() => deleteRoute(route.id)}
                      className="p-2 text-red-600 hover:bg-red-100 rounded"
                    >
                      <Trash2 size={18} />
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}

        {activeTab === 'income' && (
          <div className="bg-white p-6 rounded-lg shadow">
            <h2 className="text-xl font-bold mb-4">Record Income</h2>
            
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Bus Number Plate
                </label>
                <select
                  value={newIncome.busNumberPlate}
                  onChange={(e) => setNewIncome({...newIncome, busNumberPlate: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="">Select a bus</option>
                  {buses.map(bus => (
                    <option key={bus.id} value={bus.numberPlate}>
                      {bus.numberPlate} - {bus.model}
                    </option>
                  ))}
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Route
                </label>
                <select
                  value={newIncome.route}
                  onChange={(e) => setNewIncome({...newIncome, route: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="">Select a route</option>
                  <option value="Hire">Hire</option>
                  {routes.map(route => (
                    <option key={route.id} value={route.name}>
                      {route.name}
                    </option>
                  ))}
                </select>
              </div>

              {newIncome.route === 'Hire' && (
                <div className="md:col-span-2">
                  <label className="block text-sm font-medium text-gray-700 mb-2">
                    Hire Destination/Description
                  </label>
                  <input
                    type="text"
                    value={newIncome.hireDestination}
                    onChange={(e) => setNewIncome({...newIncome, hireDestination: e.target.value})}
                    placeholder="e.g., Wedding at Lake Chivero, Corporate event to Nyanga"
                    className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  />
                </div>
              )}

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Amount ($)
                </label>
                <input
                  type="number"
                  step="0.01"
                  value={newIncome.amount}
                  onChange={(e) => setNewIncome({...newIncome, amount: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="0.00"
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Date
                </label>
                <input
                  type="date"
                  value={newIncome.date}
                  onChange={(e) => setNewIncome({...newIncome, date: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>

              <div className="md:col-span-2">
                <button
                  onClick={addIncome}
                  className="w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center justify-center gap-2"
                >
                  <Plus size={20} /> Add Income Entry
                </button>
              </div>
            </div>

            <div className="space-y-2">
              <h3 className="font-bold text-lg mb-3">Expense History</h3>
              {expenses.map(expense => (
                <div key={expense.id} className="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div>
                    <p className="font-bold">{expense.busNumberPlate} - {expense.category}</p>
                    <p className="text-sm text-gray-600">{expense.description}</p>
                    <p className="text-sm text-gray-600">{expense.date}</p>
                  </div>
                  <div className="flex items-center gap-4">
                    <p className="text-red-600 font-bold">${expense.amount.toFixed(2)}</p>
                    <button
                      onClick={() => deleteExpense(expense.id)}
                      className="p-2 text-red-600 hover:bg-red-100 rounded"
                    >
                      <Trash2 size={18} />
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}
      </div>
    </div>
  );
};

export default BusFleetTracker;d text-lg mb-3">Income History</h3>
              {incomeEntries.map(entry => (
                <div key={entry.id} className="flex items-center justify-between p-4 bg-gray-50 rounded-lg">
                  <div>
                    <p className="font-bold">{entry.busNumberPlate} - {entry.route}</p>
                    {entry.route === 'Hire' && entry.hireDestination && (
                      <p className="text-sm text-gray-600 italic">{entry.hireDestination}</p>
                    )}
                    <p className="text-sm text-gray-600">{entry.date}</p>
                  </div>
                  <div className="flex items-center gap-4">
                    <p className="text-green-600 font-bold">${entry.amount.toFixed(2)}</p>
                    <button
                      onClick={() => deleteIncome(entry.id)}
                      className="p-2 text-red-600 hover:bg-red-100 rounded"
                    >
                      <Trash2 size={18} />
                    </button>
                  </div>
                </div>
              ))}
            </div>
          </div>
        )}

        {activeTab === 'expenses' && (
          <div className="bg-white p-6 rounded-lg shadow">
            <h2 className="text-xl font-bold mb-4">Record Expenses</h2>
            
            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 mb-6">
              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Bus Number Plate
                </label>
                <select
                  value={newExpense.busNumberPlate}
                  onChange={(e) => setNewExpense({...newExpense, busNumberPlate: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="">Select a bus</option>
                  {buses.map(bus => (
                    <option key={bus.id} value={bus.numberPlate}>
                      {bus.numberPlate} - {bus.model}
                    </option>
                  ))}
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Category
                </label>
                <select
                  value={newExpense.category}
                  onChange={(e) => setNewExpense({...newExpense, category: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                >
                  <option value="">Select category</option>
                  <option value="Fuel">Fuel</option>
                  <option value="Maintenance">Maintenance</option>
                  <option value="Insurance">Insurance</option>
                  <option value="Licensing">Licensing</option>
                  <option value="Repairs">Repairs</option>
                  <option value="Other">Other</option>
                </select>
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Amount ($)
                </label>
                <input
                  type="number"
                  step="0.01"
                  value={newExpense.amount}
                  onChange={(e) => setNewExpense({...newExpense, amount: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="0.00"
                />
              </div>

              <div>
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Date
                </label>
                <input
                  type="date"
                  value={newExpense.date}
                  onChange={(e) => setNewExpense({...newExpense, date: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                />
              </div>

              <div className="md:col-span-2">
                <label className="block text-sm font-medium text-gray-700 mb-2">
                  Description
                </label>
                <input
                  type="text"
                  value={newExpense.description}
                  onChange={(e) => setNewExpense({...newExpense, description: e.target.value})}
                  className="w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
                  placeholder="Additional details"
                />
              </div>

              <div className="md:col-span-2">
                <button
                  onClick={addExpense}
                  className="w-full bg-red-600 text-white px-4 py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2"
                >
                  <Plus size={20} /> Add Expense
                </button>
              </div>
            </div>

            <div className="space-y-2">
              <h3 className="font-bol